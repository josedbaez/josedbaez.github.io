<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>Content Hub Triggers, Actions and Scripts | José Domínguez</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="stylelabs,action,trigger,script" />
    
    <meta name="description" content="What are Content Hub Triggers, Actions and Scripts, and what are they used for?">
<meta name="keywords" content="stylelabs,action,trigger,script">
<meta property="og:type" content="article">
<meta property="og:title" content="Content Hub Triggers, Actions and Scripts">
<meta property="og:url" content="https://josedbaez.com/2019/08/trigger-action-script/index.html">
<meta property="og:site_name" content="José Domínguez">
<meta property="og:description" content="What are Content Hub Triggers, Actions and Scripts, and what are they used for?">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://josedbaez.com/images/trigger-action-script_th.png">
<meta property="og:updated_time" content="2019-11-17T18:10:22.676Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Content Hub Triggers, Actions and Scripts">
<meta name="twitter:description" content="What are Content Hub Triggers, Actions and Scripts, and what are they used for?">
<meta name="twitter:image" content="https://josedbaez.com/images/trigger-action-script_th.png">
    

    
        <link rel="alternate" href="/atom.xml" title="José Domínguez" type="application/atom+xml" />
    

    
        <link rel="icon" href="/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83689815-1', 'auto');
ga('send', 'pageview');

</script>
    
    


</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">C#, .net, sitecore &amp; some other stuff</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://josedbaez.com"></form>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner article">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Sitecore/">Sitecore</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Sitecore/Content-Hub/">Content Hub</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-trigger-action-script" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Content Hub Triggers, Actions and Scripts
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2019/08/trigger-action-script/" class="article-date">
            <time datetime="2019-08-18T00:00:00.000Z" itemprop="datePublished">2019-08-18</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/action/">action</a>, <a class="tag-link" href="/tags/script/">script</a>, <a class="tag-link" href="/tags/stylelabs/">stylelabs</a>, <a class="tag-link" href="/tags/trigger/">trigger</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <h2 id=""><a href="#" class="headerlink" title=""></a><img class="hero-img" src="/images/trigger-action-script.jpg" alt="Content Hub Trigger, Action, Script"></h2><p>What are Content Hub Triggers, Actions and Scripts, and what are they used for?<br><a id="more"></a></p>
<p>In Content Hub, triggers, actions and scripts are usually used together: a trigger invokes an action which executes a script<sup> An action can execute more things than just scripts</sup>.</p>
<h2 id="Triggers"><a href="#Triggers" class="headerlink" title="Triggers:"></a>Triggers:</h2><blockquote>
<p>A trigger is a set of actions that are automatically executed after specific events and under specific conditions. <sup><a href="#triggers">1</a></sup></p>
</blockquote>
<p>Triggers are configured in a similar way to Sitecore Rules Engine. You specify the event it responds to (<code>Objective</code>), the conditions that specify if the trigger should run, and the actions that will run if the conditions are met.</p>
<p>Triggers can be configured using the UI and are found under <strong>Admin</strong> -&gt; <strong>Triggers</strong>.</p>
<p>They can be executed <code>In process</code> or <code>In background</code>. <strong>In process</strong> triggers are executed synchronously and can target more execution phases (e.g. <code>Validation</code>), whereas <strong>In background</strong> triggers are executed asynchronously and only support <code>Post Execution</code> phase. As a rule of thumb, <code>In Process</code> should not be chosen for heavy operations that are time-consuming.</p>
<p>When creating a <code>Trigger Condition</code>, you first select on which <code>Definition</code> the condition will be assessed on (e.g. <code>M.Asset</code>). Then you set the Condition by selecting the property/relation of the selected Definition and the value you are targeting. For example, a condition could be: When the <code>Current Value</code> of <code>Title</code> property of <code>M.Asset</code> definition <code>equals</code> to <code>Hola</code>.</p>
<p><img class="boxed" src="/images/trigger-condition.png" style="max-width:400px" alt="Trigger Condition Configuration"></p>
<h2 id="Actions"><a href="#Actions" class="headerlink" title="Actions:"></a>Actions:</h2><blockquote>
<p>In Sitecore Content Hub, Actions are components that perform a specific task. <sup><a href="#actions">2</a></sup></p>
</blockquote>
<p>As of Content Hub 3.2, an Action can be created as any of these types: <code>Action script</code>, <code>API call</code>, <code>Azure event hub</code>, <code>Azure service bus</code>, <code>M Azure service bus</code>, <code>Print entity generation</code>,  <code>Reporting channel</code>, and <code>Start state machine</code>. Actions can be configured using the UI and are found under <strong>Admin</strong> -&gt; <strong>Actions</strong>.</p>
<p>Most of these are configured by entering an endpoint URL (e.g. API Call) or a connection string (e.g. Azure event hub). Others execute tasks that are specific to Content Hub and has been pre-configured (e.g. Reporting Channel). <code>Action script</code> is an action that will execute a Content Hub script of type action -see scripts section below. </p>
<p>Actions usually send a payload in the request body (as json) or headers. This usually includes a <code>TargetId</code> specifying the entity being processed.  </p>
<p><strong>Note:</strong> Some action types require a response (e.g. API call). Not returning a response before the request times out might cause the action to send multiple requests. A queue type should be considered for heavy processes.</p>
<p><img class="boxed" src="/images/action-api-call.png" style="max-width:400px" alt="Action API Call Configuration"></p>
<h2 id="Scripts"><a href="#Scripts" class="headerlink" title="Scripts:"></a>Scripts:</h2><blockquote>
<p>Sitecore Content Hub allows users to integrate custom scripts in their business logic. Scripts can be manually triggered by end-users or automatically triggered by the application (e.g. using Triggers) depending on the script type and the use case. Sitecore Content Hub offers different script types, with each type having different context properties. <sup><a href="#scripts">3</a></sup></p>
</blockquote>
<p>A script is a piece of C# code that executes when invoked (via URL or trigger) and compiled in Content Hub. They can be configured using the UI and are found under Admin-&gt;Scripts.</p>
<p>As of Content Hub 3.2, a Script can be created as any of these types: <code>Action</code>, <code>Metadata processing</code>, <code>User pre-registration</code>, <code>User post-registration</code> and <code>User sign-in</code>.</p>
<p>The type of script dictates the context where it’s run and the properties available. The most commonly used is Action.</p>
<p>When invoked by triggers, action scripts can be executed synchronously (<code>restricted</code>) and asynchronously (<code>unrestricted</code>). Restricted scripts have a limited range of libraries than can be referenced/used <sup><a href="#libraries-restriction">4</a></sup>. </p>
<p><img class="boxed" src="/images/script-action.png" style="max-width:600px" alt="Action Script"></p>
<p>====================</p>
<p>References:<br>[1] <a name="triggers" href="https://docs.stylelabs.com/content/integrations/intergration-components/triggers/overview.html" target="_blank" rel="noopener"> https://docs.stylelabs.com/content/integrations/intergration-components/triggers/overview.html </a><br>[2] <a name="scripts" href="https://docs.stylelabs.com/content/integrations/scripting-api/scripting-api-overview.html" target="_blank" rel="noopener"> https://docs.stylelabs.com/content/integrations/scripting-api/scripting-api-overview.html </a><br>[3] <a name="actions" href="https://docs.stylelabs.com/content/integrations/intergration-components/actions/overview.html" target="_blank" rel="noopener"> https://docs.stylelabs.com/content/integrations/intergration-components/actions/overview.html </a><br>[4] <a name="libraries-restriction" href="https://docs.stylelabs.com/content/integrations/scripting-api/restricted-scripts.html" target="_blank" rel="noopener"> https://docs.stylelabs.com/content/integrations/scripting-api/restricted-scripts.html </a></p>
<hr>
<p>Please let me know what you think and/or if you can spot any errors.<br><em>/eom</em></p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://josedbaez.com/2019/08/trigger-action-script/" data-id="ck3bi3w380025dupb3urocprh" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <!--
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                -->
                <p>&copy; 2019 José Domínguez</p>
                <p>Opinions expressed on this blog are my own, and not necessarily those of my employer.</p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'josedbaez';
    
    
    var disqus_url = 'https://josedbaez.com/2019/08/trigger-action-script/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
